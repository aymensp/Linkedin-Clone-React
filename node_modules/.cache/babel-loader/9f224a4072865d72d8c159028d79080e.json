{"ast":null,"code":"var _jsxFileName = \"/Users/ayman/Desktop/Linkedin-Clone/Linkedin-Clone-React/src/AutocompletePlace.js\";\nimport React, { Component } from 'react';\nimport './Autocomplete.css';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class AutocompletePlace extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      search: '',\n      results: [],\n      isLoading: false\n    };\n    this.handleSearchChange = this.handleSearchChange.bind(this);\n\n    if (!process.env.REACT_APP_MAPBOX_API_KEY) {\n      throw new Error(\"You don't have any 'process.env.REACT_APP_MAPBOX_API_KEY'\");\n    }\n  }\n\n  handleSearchChange(e) {\n    this.setState({\n      search: e.target.value,\n      isLoading: true\n    }); // Stop the previous setTimeout if there is one in progress\n\n    clearTimeout(this.timeoutId); // Launch a new request in 1000ms\n\n    this.timeoutId = setTimeout(() => {\n      this.performSearch();\n    }, 1000);\n  }\n\n  performSearch() {\n    if (this.state.search === \"\") {\n      this.setState({\n        results: [],\n        isLoading: false\n      });\n      return;\n    }\n\n    axios.get(`https://api.mapbox.com/geocoding/v5/mapbox.places/${this.state.search}.json?access_token=${process.env.REACT_APP_MAPBOX_API_KEY}`).then(response => {\n      this.setState({\n        results: response.data.features,\n        isLoading: false\n      });\n    });\n  }\n\n  handleItemClicked(place) {\n    this.setState({\n      search: place.place_name,\n      results: []\n    });\n    this.props.onSelect(place);\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"AutocompletePlace\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"AutocompletePlace-input\",\n        type: \"text\",\n        value: this.state.search,\n        onChange: this.handleSearchChange,\n        placeholder: \"Type an address\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"AutocompletePlace-results\",\n        children: [this.state.results.map(place => /*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"AutocompletePlace-items\",\n          onClick: () => this.handleItemClicked(place),\n          children: place.place_name\n        }, place.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 13\n        }, this)), this.state.isLoading && /*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"AutocompletePlace-items\",\n          children: \"Loading...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 36\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["/Users/ayman/Desktop/Linkedin-Clone/Linkedin-Clone-React/src/AutocompletePlace.js"],"names":["React","Component","axios","AutocompletePlace","constructor","props","state","search","results","isLoading","handleSearchChange","bind","process","env","REACT_APP_MAPBOX_API_KEY","Error","e","setState","target","value","clearTimeout","timeoutId","setTimeout","performSearch","get","then","response","data","features","handleItemClicked","place","place_name","onSelect","render","map","id"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport './Autocomplete.css'\r\nimport axios from 'axios'\r\n\r\nexport default class AutocompletePlace extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      search: '',\r\n      results: [],\r\n      isLoading: false,\r\n    }\r\n    this.handleSearchChange = this.handleSearchChange.bind(this)\r\n\r\n    if (!process.env.REACT_APP_MAPBOX_API_KEY) {\r\n      throw new Error(\"You don't have any 'process.env.REACT_APP_MAPBOX_API_KEY'\")\r\n    }\r\n  }\r\n  handleSearchChange(e) {\r\n    this.setState({\r\n      search: e.target.value,\r\n      isLoading: true\r\n    })\r\n\r\n    // Stop the previous setTimeout if there is one in progress\r\n    clearTimeout(this.timeoutId)\r\n\r\n    // Launch a new request in 1000ms\r\n    this.timeoutId = setTimeout(() => {\r\n      this.performSearch()\r\n    }, 1000)\r\n  }\r\n  performSearch() {\r\n    if (this.state.search === \"\") {\r\n      this.setState({\r\n        results: [],\r\n        isLoading: false\r\n      })\r\n      return\r\n    }\r\n    axios.get(`https://api.mapbox.com/geocoding/v5/mapbox.places/${this.state.search}.json?access_token=${process.env.REACT_APP_MAPBOX_API_KEY}`)\r\n      .then(response => {\r\n        this.setState({\r\n          results: response.data.features,\r\n          isLoading: false\r\n        })\r\n      })\r\n  }\r\n  handleItemClicked(place) {\r\n    this.setState({\r\n      search: place.place_name,\r\n      results: []\r\n    })\r\n    this.props.onSelect(place)\r\n  }\r\n  render() {\r\n    return (\r\n      <div className=\"AutocompletePlace\">\r\n        <input className=\"AutocompletePlace-input\" type=\"text\" value={this.state.search} onChange={this.handleSearchChange} placeholder=\"Type an address\" />\r\n        <ul className=\"AutocompletePlace-results\">\r\n          {this.state.results.map(place => (\r\n            <li\r\n              key={place.id}\r\n              className=\"AutocompletePlace-items\"\r\n              onClick={() => this.handleItemClicked(place)}\r\n            >\r\n              {place.place_name}\r\n            </li>\r\n          ))}\r\n          {this.state.isLoading && <li className=\"AutocompletePlace-items\">Loading...</li>}\r\n        </ul>\r\n      </div>\r\n    )\r\n  }\r\n}"]},"metadata":{},"sourceType":"module"}