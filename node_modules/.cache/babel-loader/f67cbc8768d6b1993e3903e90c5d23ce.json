{"ast":null,"code":"var _jsxFileName = \"/Users/ayman/Desktop/Linkedin-Clone/Linkedin-Clone-React/src/uploadPdf.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport Auxiliary from './Auxiliary';\nimport Backdrop from './Backdrop';\nimport './uploadPdf.css';\nimport axios from 'axios';\nimport { useLocation } from 'react-router';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Modal(props) {\n  _s();\n\n  const userr = localStorage.getItem('user');\n  const currentUser = JSON.parse(userr);\n  const [experience, setExperience] = useState(props.experience);\n  const [education, setEducation] = useState(props.education);\n  const [skills, setSkills] = useState(props.skills);\n\n  const saveInfo = () => {\n    axios.post(`${url}user/edit/information`, {\n      id: currentUser._id,\n      username: currentUser.username,\n      education: education,\n      skills: skills,\n      experience: experience\n    }).then(res => {\n      console.log(res.data);\n      window.location.reload();\n    }).catch(error => {\n      console.log(error);\n    });\n  };\n\n  const onFileUpload = event => {\n    // Create an object of formData\n    const formData = new FormData(); // Update the formData object\n\n    formData.append(\"upl\", event.target.files[0], `${currentUser.username}.pdf`);\n    formData.append(\"username\", `${currentUser.username}`); // Details of the uploaded file\n    // Request made to the backend api\n    // Send formData object\n\n    axios.post(`http://localhost:3000/parseCV`, formData).then(res => {\n      console.log(res.data.experience);\n      setEducation(res.data.education);\n      setExperience(res.data.experience);\n      setSkills(res.data.skills);\n    }).catch(error => {\n      console.log(error);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(Auxiliary, {\n    children: [/*#__PURE__*/_jsxDEV(Backdrop, {\n      show: props.show,\n      clicked: props.modalClosed\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"Modal\",\n      style: {\n        transform: props.show ? 'translateY(0)' : 'translateY(-100vh)',\n        opacity: props.show ? '1' : '0'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        for: \"resume\",\n        children: \"Resume\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"butt\",\n        type: \"file\",\n        onChange: event => onFileUpload(event)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        for: \"firstname\",\n        children: \"Experience\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        onChange: event => setExperience(event.target.value),\n        type: \"text\",\n        id: \"experience\",\n        value: experience\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        for: \"lastname\",\n        children: \"Education\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        onChange: event => setEducation(event.target.value),\n        type: \"text\",\n        id: \"education\",\n        value: education\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        for: \"email\",\n        children: \"Skills\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        onChange: event => setSkills(event.target.value),\n        type: \"text\",\n        id: \"text\",\n        value: skills\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => saveInfo(),\n        className: \"but\",\n        type: \"submit\",\n        children: \"Enregistre\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 1\n  }, this);\n}\n\n_s(Modal, \"Ajbr39VWrKfEOD0BQ/VaRGFNoT0=\");\n\n_c = Modal;\n;\nexport default Modal;\n\nvar _c;\n\n$RefreshReg$(_c, \"Modal\");","map":{"version":3,"sources":["/Users/ayman/Desktop/Linkedin-Clone/Linkedin-Clone-React/src/uploadPdf.js"],"names":["React","useEffect","useState","Auxiliary","Backdrop","axios","useLocation","Modal","props","userr","localStorage","getItem","currentUser","JSON","parse","experience","setExperience","education","setEducation","skills","setSkills","saveInfo","post","url","id","_id","username","then","res","console","log","data","window","location","reload","catch","error","onFileUpload","event","formData","FormData","append","target","files","show","modalClosed","transform","opacity","value"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport Auxiliary from './Auxiliary';\r\nimport Backdrop from './Backdrop';\r\nimport './uploadPdf.css';\r\nimport axios from 'axios'\r\nimport { useLocation } from 'react-router';\r\n\r\nfunction Modal (props) {\r\nconst userr = localStorage.getItem('user')\r\nconst currentUser = JSON.parse(userr);\r\nconst [experience , setExperience] = useState(props.experience);\r\nconst [education , setEducation] = useState(props.education);\r\nconst [skills , setSkills] = useState(props.skills);\r\nconst saveInfo = ()=>{\r\n   \r\n    axios.post(`${url}user/edit/information`, {\r\n        id: currentUser._id,\r\n        username: currentUser.username,\r\n        education : education,\r\n        skills : skills,\r\n        experience : experience\r\n        \r\n      }).then( res => {\r\n          console.log(res.data);\r\n          window.location.reload()\r\n     })\r\n     .catch(error => {\r\n         console.log(error);\r\n     })  \r\n}\r\nconst onFileUpload = (event) => {\r\n    // Create an object of formData\r\n    const formData = new FormData();\r\n    // Update the formData object\r\n    formData.append(\r\n      \"upl\",\r\n      event.target.files[0],\r\n      `${currentUser.username}.pdf`,  \r\n      \r\n    );\r\n    formData.append(\r\n        \"username\",\r\n        `${currentUser.username}`\r\n    )\r\n   \r\n    // Details of the uploaded file\r\n   // Request made to the backend api\r\n    // Send formData object\r\n    axios.post(`http://localhost:3000/parseCV`, formData )\r\n    .then(res=>{\r\n        console.log(res.data.experience)\r\n        setEducation(res.data.education);\r\n        setExperience(res.data.experience);\r\n        setSkills(res.data.skills);\r\n        \r\n})\r\n    .catch(error=>{\r\n        console.log(error);\r\n    })\r\n  };\r\nreturn(\r\n\r\n<Auxiliary>\r\n    <Backdrop show = {props.show} clicked={props.modalClosed}/>\r\n    <div \r\n    \r\n    className='Modal'\r\n    style={{\r\n        transform: props.show ? 'translateY(0)' : 'translateY(-100vh)' ,\r\n        opacity: props.show ? '1': '0'\r\n    }}\r\n    > \r\n    <label for=\"resume\">Resume</label>\r\n                <input  className=\"butt\" type=\"file\"  onChange={(event) => onFileUpload(event)} />\r\n                <label for=\"firstname\">Experience</label>\r\n                <textarea onChange={(event)=> setExperience(event.target.value)} type=\"text\" id=\"experience\" value={experience} />\r\n        \r\n           \r\n                <label for=\"lastname\">Education</label>\r\n                <textarea onChange={(event)=> setEducation(event.target.value)} type=\"text\" id=\"education\" value={education} />\r\n           \r\n         \r\n                <label for=\"email\">Skills</label>\r\n                <textarea onChange={(event)=> setSkills(event.target.value)} type=\"text\" id=\"text\"  value={skills} />\r\n          \r\n         \r\n          <button onClick={()=>saveInfo()} className=\"but\" type=\"submit\">Enregistre</button>\r\n       \r\n      \r\n    </div>\r\n    \r\n    </Auxiliary>\r\n    )\r\n\r\n} ;\r\nexport default Modal ;\r\n"]},"metadata":{},"sourceType":"module"}